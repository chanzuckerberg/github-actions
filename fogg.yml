accounts:
  covidmodeling:
    providers:
      aws:
        account_id: "810061268089"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
        role: tfe-si
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  czi-comp-bio:
    providers:
      aws:
        account_id: "984830177581"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  czi-connections:
    providers:
      aws:
        account_id: "591406941557"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  czi-connections-prod:
    providers:
      aws:
        account_id: "340591210379"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
        role: tfe-si
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  czi-corp:
    providers:
      aws:
        account_id: "252147947505"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  czi-corp-data:
    providers:
      aws:
        account_id: "118553289051"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  czi-corp-slack:
    providers:
      aws:
        account_id: "173047378543"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
        role: tfe-si
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  czi-databricks:
    providers:
      aws:
        account_id: "581588399613"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  czi-id:
    providers:
      aws:
        account_id: "416703108729"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
      bless:
        additional_regions:
          - us-east-2
        aws_region: us-west-2
        role_arn: arn:aws:iam::416703108729:role/tfe-si
        version: 0.5.0
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  czi-images:
    providers:
      aws:
        account_id: "723754913286"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  czi-investments:
    providers:
      aws:
        account_id: "828946955132"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  czi-joi:
    providers:
      aws:
        account_id: "419182566251"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  czi-legacy:
    providers:
      aws:
        account_id: "787588439240"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  czi-logs:
    providers:
      aws:
        account_id: "724328632434"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
        version: 4.20.1
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  czi-physec:
    providers:
      aws:
        account_id: "728896018347"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  czi-playground:
    providers:
      aws:
        account_id: "401986845158"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
    terraform_version: 0.13.5
  czi-sec:
    providers:
      aws:
        account_id: "871040364337"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  czi-si:
    providers:
      aws:
        account_id: "626314663667"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
        role: tfe-si
    depends_on:
      accounts:
        - czi-logs
        - cztack-ci-1
        - genepi-prod
        - meta-2
        - okta-czi-prod
        - rao-prod
        - single-cell-prod
      components: []
  czi-splunk:
    providers:
      aws:
        account_id: "409755032321"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
        role: tfe-si
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  czi-ssh:
    providers:
      aws:
        account_id: "648573913056"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
      bless:
        additional_regions:
          - us-east-2
        aws_region: us-west-2
        role_arn: arn:aws:iam::648573913056:role/tfe-si
        version: 0.5.0
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  czi-stp:
    providers:
      aws:
        account_id: "333578046542"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  czi-tfe:
    providers:
      aws:
        account_id: "612168857605"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  cztack-ci-1:
    providers:
      aws:
        account_id: "119435350371"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  cztack-ci-2:
    providers:
      aws:
        account_id: "254044266527"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  databricks-networks:
    depends_on:
      accounts: []
      components: []
  genepi-dev:
    providers:
      aws:
        account_id: "473004499091"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
        role: tfe-si
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  genepi-prod:
    providers:
      aws:
        account_id: "829407189049"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
        role: tfe-si
    depends_on:
      accounts:
        - okta-czi-prod
        - genepi-dev
      components: []
  github:
    providers: {}
  hca-id:
    providers:
      aws:
        account_id: "634134578715"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  hca-prod:
    providers:
      aws:
        account_id: "109067257620"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  idseq-dev:
    providers:
      aws:
        account_id: "732052188396"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  idseq-prod:
    providers:
      aws:
        account_id: "745463180746"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  lp-databricks:
    extra_vars:
      databricks_account_id: 6bae8a6a-0677-4a82-bf65-1e6e23375b4e
      databricks_external_id: 25e07f31-995a-4230-acae-842ba4e4894f
    providers:
      aws:
        account_id: "893455824143"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
        region: us-east-1
      databricks:
        version: 1.0.0
    depends_on:
      accounts:
        - czi-si
        - databricks-networks
        - summitps
      components: []
  mccloud-dev:
    providers:
      aws:
        account_id: "383859279202"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
        role: tfe-si
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  mccloud-prod:
    providers:
      aws:
        account_id: "381995712961"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
        role: tfe-si
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  meta-2:
    providers:
      aws:
        account_id: "607813682535"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  meta-databricks-staging:
    providers:
      aws:
        account_id: "501412765515"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  meta-images:
    providers:
      aws:
        account_id: "182066011887"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  meta-images-ci:
    providers:
      aws:
        account_id: "497543281455"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  okta-czi-prod:
    extra_vars:
      okta_tenant: czi-prod
    providers:
      aws:
        additional_providers:
          czi-connections:
            account_id: "591406941557"
            region: us-east-1
          czi-connections-prod:
            account_id: "340591210379"
            region: us-east-1
          czi-playground:
            account_id: "401986845158"
            region: us-west-2
          czi-sci-general:
            account_id: "977655849919"
            region: us-west-2
          czi-shasta-prod:
            account_id: "009273135997"
            region: us-west-2
          czi-si:
            account_id: "626314663667"
            region: us-west-2
          czi-splunk:
            account_id: "409755032321"
            region: us-west-2
          genepi-dev:
            account_id: "473004499091"
            region: us-west-2
          idseq-dev:
            account_id: "732052188396"
            region: us-west-2
          idseq-prod:
            account_id: "745463180746"
            region: us-west-2
          meta-2:
            account_id: "607813682535"
            region: us-west-2
          sci-imaging:
            account_id: "516466186502"
            region: us-west-2
          single-cell-dev:
            account_id: "699936264352"
            region: us-west-2
          single-cell-prod:
            account_id: "231426846575"
            region: us-west-2
          summitps:
            account_id: "950587841421"
            region: us-east-1
          summitps-us-west-2:
            account_id: "950587841421"
            region: us-west-2
      okta:
        version: 3.10.3
        registry_namespace: chanzuckerberg
        org_name: czi-prod
    depends_on:
      accounts: []
      components: []
    terraform_version: 0.13.5
  rao-dev:
    providers:
      aws:
        account_id: "917126549613"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
        role: tfe-si
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  rao-prod:
    providers:
      aws:
        account_id: "941037323260"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
        role: tfe-si
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  sci-imaging:
    providers:
      aws:
        account_id: "516466186502"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  sciencescape:
    providers:
      aws:
        account_id: "464320806260"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  single-cell-dev:
    providers:
      aws:
        account_id: "699936264352"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  single-cell-prod:
    providers:
      aws:
        account_id: "231426846575"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
        - single-cell-dev
      components: []
  spacetx:
    providers:
      aws:
        account_id: "422553907334"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  summitps:
    providers:
      aws:
        version: 4.20.1
        account_id: "950587841421"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
    depends_on:
      accounts:
        - okta-czi-prod
        - lp-databricks
      components: []
  czi-protocolsio:
    backend:
      kind: remote
      host_name: si.prod.tfe.czi.technology
      organization: shared-infra
    providers:
      aws:
        account_id: "248448116955"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
        role: tfe-si
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  czi-sci-general:
    backend:
      kind: remote
      host_name: si.prod.tfe.czi.technology
      organization: shared-infra
    providers:
      aws:
        account_id: "977655849919"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
        role: tfe-si
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
  shasta-prod:
    backend:
      kind: remote
      host_name: si.prod.tfe.czi.technology
      organization: shared-infra
    providers:
      aws:
        account_id: "009273135997"
        additional_regions:
          - ap-south-1
          - eu-west-3
          - eu-west-2
          - eu-west-1
          - ap-northeast-2
          - ap-northeast-1
          - sa-east-1
          - ca-central-1
          - ap-southeast-1
          - ap-southeast-2
          - eu-central-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
        role: tfe-si
    depends_on:
      accounts:
        - okta-czi-prod
      components: []
defaults:
  backend:
    kind: remote
    host_name: si.prod.tfe.czi.technology
    organization: shared-infra
  depends_on:
    accounts: []
    components: []
  extra_vars:
    aws_cloudtrail_bucket_name: czi-logs-cloudtrail
    aws_cloudtrail_s3_encryption_key_arn: arn:aws:kms:us-west-2:724328632434:key/5e9e938a-441e-4ffd-96b3-8e38b951301e
    aws_config_bucket_name: czi-aws-config
    aws_github_bucket_name: shared-infra-logs-github-webhooks-archiver
    aws_org_id: o-56v5gp5fcu
    ie_pd_default_escalation: "[Infra] Core Infra Eng"
    ie_pd_team: Infra Eng
    learning_platform_aws_org_id: o-iqjigxi1d8
  owner: infra-eng@chanzuckerberg.com
  project: shared-infra
  providers:
    aws:
      account_id: "626314663667"
      region: us-west-2
      role: tfe-si
      version: 3.63.0
  terraform_version: 0.13.5
  tools:
    github_actions_ci:
      enabled: true
      aws_iam_role_name: infraci
      test_buckets: 5
      command: lint
      buildevents: true
      providers:
        aws:
          disabled: true
      ssh_key_secrets:
        - SHARED_INFRA_DEPLOY_KEY
    tflint:
      enabled: true
envs:
  preprod:
    extra_vars:
      eks_cluster_name: ie-connections-prod
    project: ie
    providers:
      aws:
        account_id: "340591210379"
        region: us-east-1
    components:
      test1: {}
      test2:
        depends_on:
          accounts: []
          components:
            - test1
  connections-prod:
    extra_vars:
      eks_cluster_name: ie-connections-prod
    project: ie
    providers:
      aws:
        account_id: "340591210379"
        region: us-east-1
    components:
      airflow:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - okta-czi-prod
          components:
            - cloud-env
            - eks
            - k8s-core
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-airflow?ref=v0.80.0
      amundsen:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
          datadog:
            version: 3.6.0
        depends_on:
          accounts:
            - czi-si
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
        module_source: terraform/modules/amundsen
      appflow-along-flows:
        depends_on:
          accounts:
            - czi-connections
          components:
            - airflow
      cloud-env:
        depends_on:
          accounts:
            - czi-si
          components: []
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.143.0
      databricks-workspace:
        extra_vars:
          databricks_external_id: 4a2f419c-ae7a-49f1-b774-8f3113d9834d
        providers:
          databricks:
            version: 1.0.0
        depends_on:
          accounts:
            - czi-si
            - databricks-networks
          components:
            - route53
      eks:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-logs
            - czi-si
          components:
            - cloud-env
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-cluster?ref=v0.100.0
      k8s-core:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
          pagerduty:
            version: 1.7.9
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/k8s-core?ref=k8s-core-v1.5.1
      k8s-monitoring:
        providers:
          datadog:
            version: 3.0.0
          pagerduty:
            version: 1.7.9
        depends_on:
          accounts: []
          components:
            - eks
        module_source: terraform/modules/datadog-k8s-cluster
      looker:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts: []
          components:
            - cloud-env
            - eks
            - route53
            - k8s-core
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/looker?ref=looker-v1.3.2
      looker-internal:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts: []
          components:
            - cloud-env
            - eks
            - route53
            - k8s-core
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/looker?ref=looker-v1.3.2
      network:
        depends_on:
          accounts: []
          components:
            - cloud-env
      route53:
        depends_on:
          accounts:
            - czi-si
          components: []
      sentry:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - cloud-env
            - eks
            - k8s-core
  connections-staging:
    extra_vars:
      eks_cluster_name: ie-connections-staging
    project: ie
    providers:
      aws:
        account_id: "591406941557"
        region: us-east-1
      pagerduty:
        version: 1.7.9
    components:
      airflow:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - okta-czi-prod
          components:
            - cloud-env
            - eks
            - k8s-core
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-airflow?ref=v0.80.0
      amundsen:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
          datadog:
            version: 3.6.0
        depends_on:
          accounts:
            - czi-si
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
        module_source: terraform/modules/amundsen
      appflow-along-flows:
        depends_on:
          accounts:
            - czi-connections
          components:
            - airflow
      cloud-env:
        depends_on:
          accounts:
            - czi-si
          components: []
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.143.0
      eks:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-logs
            - czi-si
          components:
            - cloud-env
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-cluster?ref=v0.100.0
      k8s-core:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/k8s-core?ref=k8s-core-v1.5.1
      k8s-monitoring:
        providers:
          datadog:
            version: 3.0.0
          pagerduty:
            version: 1.7.9
        depends_on:
          accounts: []
          components:
            - eks
        module_source: terraform/modules/datadog-k8s-cluster
      looker:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts: []
          components:
            - cloud-env
            - eks
      network:
        depends_on:
          accounts: []
          components:
            - cloud-env
      route53:
        depends_on:
          accounts:
            - czi-si
          components: []
  czi-sci-general-prod:
    providers:
      aws:
        account_id: "977655849919"
    extra_vars:
      databricks_external_id: 4a2f419c-ae7a-49f1-b774-8f3113d9834d
      eks_cluster_name: ie-czi-sci-general-prod
    components:
      route53:
        depends_on:
          accounts: []
          components: []
      cloud-env:
        depends_on:
          accounts:
            - czi-si
          components:
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.143.0
      eks:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
          aws:
            version: 3.68.0
        depends_on:
          accounts:
            - czi-logs
            - czi-si
          components:
            - cloud-env
        module_source: terraform/modules/eks-cluster
      k8s-core:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/k8s-core?ref=k8s-core-v1.5.1
      databricks:
        providers:
          databricks:
            version: 1.0.0
        depends_on:
          accounts:
            - czi-si
            - databricks-networks
          components:
            - route53
      superset:
        terraform_version: 0.15.5
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
            - k8s-core
            - cloud-env
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/superset?ref=v0.135.0
  czi-sec:
    providers:
      aws:
        account_id: "871040364337"
    components:
      route53:
        depends_on:
          accounts: []
          components: []
      cloud-env:
        depends_on:
          accounts:
            - czi-si
          components:
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.143.0
      ecs:
        depends_on:
          accounts:
            - czi-si
          components:
            - cloud-env
      ssrfs-up:
        project: sec
        depends_on:
          accounts:
            - czi-si
          components: []
      sastisfaction:
        project: sec
        depends_on:
          accounts:
            - czi-sec
          components:
            - route53
            - cloud-env
            - ecs
  czi-sec-staging:
    providers:
      aws:
        account_id: "871040364337"
    components:
      route53:
        depends_on:
          accounts: []
          components: []
      cloud-env:
        depends_on:
          accounts:
            - czi-si
          components:
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.143.0
      ecs:
        depends_on:
          accounts:
            - czi-si
          components:
            - cloud-env
      ssrfs-up:
        project: sec
        depends_on:
          accounts: []
          components: []
      sastisfaction:
        project: sec
        depends_on:
          accounts:
            - czi-sec
          components:
            - route53
            - cloud-env
            - ecs
  cztack-ci:
    providers:
      aws:
        account_id: "119435350371"
    components:
      cloud-env:
        depends_on:
          accounts:
            - czi-si
          components: []
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.143.0
  dev:
    terraform_version: 1.0.11
    extra_vars:
      eks_cluster_name: si-dev-eks
    project: si
    providers:
      aws:
        account_id: "626314663667"
      assert:
        version: 0.0.1
    depends_on:
      accounts: []
      components: []
    components:
      eng-portal:
        depends_on:
          accounts: []
          components:
            - happy
            - cloud-env
            - route53
      certs:
        depends_on:
          accounts: []
          components: []
      cloud-env:
        depends_on:
          accounts:
            - czi-si
          components:
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.143.0
      credentials:
        depends_on:
          accounts: []
          components: []
      czi-ml-api:
        depends_on:
          components:
            - happy
            - cloud-env
        module_source: terraform/modules/aws-elasticache-redis-cluster
      czi-ml-mwaa:
        depends_on:
          components:
            - cloud-env
        module_source: terraform/modules/aws-mwaa
      ecs:
        depends_on:
          accounts:
            - czi-si
          components:
            - cloud-env
      eks:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
          aws:
            version: 3.68.0
        depends_on:
          accounts:
            - czi-logs
            - czi-si
          components:
            - cloud-env
        module_source: terraform/modules/eks-cluster
      happy:
        depends_on:
          accounts: []
          components:
            - cloud-env
            - route53
            - czi-ml-api
      k8s-core:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
            - route53
        module_source: terraform/modules/k8s-core
      k8s-monitoring:
        providers:
          datadog:
            version: 3.0.0
          pagerduty:
            version: 1.7.9
        depends_on:
          accounts: []
          components:
            - eks
        module_source: terraform/modules/datadog-k8s-cluster
      rotator:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts: []
          components:
            - credentials
            - eks
            - k8s-core
      route53:
        depends_on:
          accounts:
            - czi-si
          components: []
      scim:
        depends_on:
          accounts: []
          components:
            - cloud-env
            - route53
      shared-ecr:
        depends_on:
          accounts:
            - czi-si
          components: []
      snowflake-rotator:
        depends_on:
          accounts:
            - okta-czi-prod
          components: []
      superset:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
            - k8s-core
            - cloud-env
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/superset?ref=v0.148.0
  genepi-dev:
    extra_vars:
      eks_cluster_name: ie-genepi-dev-eks
    project: ie
    providers:
      aws:
        account_id: "473004499091"
        region: us-west-2
    components:
      route53:
        depends_on:
          accounts: []
          components: []
      cloud-env:
        depends_on:
          accounts:
            - czi-si
            - genepi-dev
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.118.0
      eks:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-logs
            - czi-si
          components:
            - cloud-env
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-cluster?ref=v0.100.0
      k8s-core:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/k8s-core?ref=k8s-core-v1.5.1
      network:
        depends_on:
          accounts: []
          components:
            - cloud-env
      airflow:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - okta-czi-prod
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
      superset:
        terraform_version: 0.15.5
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
            - k8s-core
            - cloud-env
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/superset?ref=v0.148.0
  idseq-prod:
    providers:
      aws:
        account_id: "745463180746"
        additional_regions:
          - us-west-2
    project: ie
    components:
      databricks-workspace:
        extra_vars:
          databricks_external_id: 4a2f419c-ae7a-49f1-b774-8f3113d9834d
        providers:
          databricks:
            version: 1.0.0
        depends_on:
          accounts:
            - czi-si
            - databricks-networks
          components:
            - route53
      route53:
        depends_on:
          accounts: []
          components: []
  ie:
    extra_vars:
      eks_cluster_name: ie-ie-eks
    project: ie
    providers:
      aws:
        account_id: "626314663667"
    depends_on:
      accounts: []
      components: []
    components:
      airflow:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
            - okta-czi-prod
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
        module_source: terraform/modules/eks-airflow
      amundsen:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
          datadog:
            version: 3.6.0
        depends_on:
          accounts:
            - czi-si
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
        module_source: terraform/modules/amundsen
      cloud-env:
        depends_on:
          accounts:
            - czi-si
          components:
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.143.0
      mwaa:
        depends_on:
          accounts:
            - czi-si
          components:
            - cloud-env
        module_source: terraform/modules/aws-mwaa
      databricks-workspace:
        extra_vars:
          databricks_external_id: 4a2f419c-ae7a-49f1-b774-8f3113d9834d
        providers:
          databricks:
            version: 1.0.0
        depends_on:
          accounts:
            - czi-si
            - databricks-networks
          components:
            - route53
      cutter:
        depends_on:
          accounts:
            - czi-si
            - databricks-networks
          components:
            - databricks-workspace
      eks:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-logs
            - czi-si
          components:
            - cloud-env
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-cluster?ref=eks-cluster-v2.0.0
      eks-jupyterhub:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts: []
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
        module_source: terraform/modules/eks-jupyterhub
      k8s-core:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/k8s-core?ref=k8s-core-v1.5.1
      k8s-monitoring:
        providers:
          datadog:
            version: 3.0.0
          pagerduty:
            version: 1.7.9
        depends_on:
          accounts: []
          components:
            - eks
        module_source: terraform/modules/datadog-k8s-cluster
      route53:
        depends_on:
          accounts:
            - czi-si
          components: []
      shared-ecr:
        depends_on:
          accounts:
            - czi-si
          components: []
      superset:
        terraform_version: 0.15.5
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
            - k8s-core
            - cloud-env
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/superset?ref=v0.148.0
  images:
    providers:
      aws:
        account_id: "723754913286"
    components:
      cloud-env:
        depends_on:
          accounts:
            - czi-si
          components:
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.143.0
      route53:
        depends_on:
          accounts: []
          components: []
  logs:

    providers:
      aws:
        account_id: "724328632434"
    components:
      alex-test-component: {}
      auth0-eventbridge:
        providers:
          aws:
            version: 3.29.1
        depends_on:
          accounts: []
          components: []
      aws-certs:
        providers:
          aws:
            additional_regions:
              - us-east-1
        depends_on:
          accounts:
            - czi-logs
          components: []
      aws-cloudwatch-s3-trigger:
        depends_on:
          accounts:
            - czi-logs
          components:
            - splunk-ingest
      aws-config-s3-trigger:
        depends_on:
          accounts: []
          components:
            - splunk-ingest
      aws-vpc_flow-s3-trigger:
        depends_on:
          accounts:
            - czi-logs
          components:
            - splunk-ingest
      cisco-umbrella:
        depends_on:
          accounts: []
          components:
            - splunk-ingest
      cloud-custodian:
        depends_on:
          accounts: []
          components: []
      cloud-env:
        depends_on:
          accounts:
            - czi-logs
            - czi-si
          components: []
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.143.0
      cloudtrail-s3-triggers:
        depends_on:
          accounts: []
          components:
            - splunk-ingest
      cloudtrail-sink:
        depends_on:
          accounts: []
          components: []
      config:
        depends_on:
          accounts: []
          components: []
      detailed-billing-bucket:
        providers:
          aws:
            account_id: "416703108729"
        depends_on:
          accounts: []
          components: []
      github-organizations-s3-trigger:
        depends_on:
          accounts: []
          components: []
      github-webhooks-archiver:
        depends_on:
          accounts:
            - czi-logs
          components:
            - aws-certs
      splunk-ingest:
        depends_on:
          accounts:
            - czi-logs
      altitude-export:
        depends_on:
          accounts:
            - czi-logs
          components: []
  lp:
    extra_vars:
      eks_cluster_name: ie-lp-eks
    project: ie
    providers:
      aws:
        account_id: "950587841421"
        region: us-east-1
    components:
      airflow:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - okta-czi-prod
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-airflow?ref=6ba20430f9407faf6ba15943022db30bcfc498f1
      amundsen-airflow:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - okta-czi-prod
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-airflow?ref=6ba20430f9407faf6ba15943022db30bcfc498f1
      amundsen:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
          datadog:
            version: 3.6.0
        depends_on:
          accounts:
            - czi-si
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
        module_source: terraform/modules/amundsen
      appflow-lp-flows:
        terraform_version: 1.0.11
        depends_on:
          accounts:
            - summitps
          components: []
      cloud-env:
        depends_on:
          accounts:
            - czi-si
          components:
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.118.0
      databricks-workspace:
        extra_vars:
          databricks_external_id: 168a01c2-1442-490b-a494-68bf856bfac1
        providers:
          databricks:
            version: 1.0.0
        depends_on:
          accounts:
            - czi-si
            - summitps
            - databricks-networks
          components:
            - route53
      datadog-cloudwatch:
        providers:
          datadog:
            version: 3.0.0
        depends_on:
          accounts: []
          components: []
      eks:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-logs
            - czi-si
          components:
            - cloud-env
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-cluster?ref=v0.100.0
      k8s-core:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
          pagerduty:
            version: 1.7.9
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/k8s-core?ref=k8s-core-v1.5.1
      k8s-monitoring:
        providers:
          datadog:
            version: 3.0.0
          pagerduty:
            version: 1.7.9
        depends_on:
          accounts: []
          components:
            - eks
        module_source: terraform/modules/datadog-k8s-cluster
      looker:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts: []
          components:
            - cloud-env
            - eks
            - route53
            - k8s-core
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/looker?ref=looker-v1.3.2
      looker-internal:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts: []
          components:
            - cloud-env
            - eks
            - route53
            - k8s-core
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/looker?ref=looker-v1.3.2
      network:
        depends_on:
          accounts: []
          components:
            - cloud-env
      route53:
        depends_on:
          accounts: []
          components:
            - cloud-env
      sentry:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - cloud-env
            - eks
            - k8s-core
      tfe:
        depends_on:
          accounts: []
          components: []
  lp-dev:
    extra_vars:
      eks_cluster_name: ie-lp-dev-eks
    project: ie
    providers:
      aws:
        account_id: "950587841421"
        region: us-west-2
    components:
      appflow-lp-flows:
        terraform_version: 1.0.11
        depends_on:
          accounts:
            - summitps
          components: []
      cloud-env:
        depends_on:
          accounts:
            - czi-si
          components: []
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.143.0
      debezium:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - summitps
          components:
            - cloud-env
            - eks
            - k8s-core
        module_source: terraform/modules/eks-debezium
      de-identification:
        depends_on:
          accounts:
            - czi-si
          components: []
      ecs:
        depends_on:
          accounts:
            - summitps
            - czi-si
          components:
            - cloud-env
      eks:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - cloud-env
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-cluster?ref=v0.100.0
      k8s-core:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
          pagerduty:
            version: 1.7.9
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/k8s-core?ref=k8s-core-v1.5.1
      k8s-monitoring:
        providers:
          datadog:
            version: 3.0.0
          pagerduty:
            version: 1.7.9
        depends_on:
          accounts: []
          components:
            - eks
        module_source: terraform/modules/datadog-k8s-cluster
      kafka:
        terraform_version: 1.0.11
        providers:
          aws:
            version: 4.20.0
        module_source: terraform/modules/aws-kafka
      looker:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts: []
          components:
            - cloud-env
            - eks
            - route53
            - k8s-core
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/looker?ref=looker-v1.3.2
      network:
        depends_on:
          accounts: []
          components:
            - cloud-env
      proxy:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
          pagerduty:
            version: 1.7.9
        depends_on:
          accounts:
            - czi-si
          components:
            - cloud-env
            - ecs
  lp-staging:
    extra_vars:
      eks_cluster_name: ie-lp-staging-eks
    project: ie
    providers:
      aws:
        account_id: "950587841421"
        region: us-east-1
    components:
      airflow:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - okta-czi-prod
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-airflow?ref=6ba20430f9407faf6ba15943022db30bcfc498f1
      amundsen-airflow:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - okta-czi-prod
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-airflow?ref=6ba20430f9407faf6ba15943022db30bcfc498f1
      amundsen:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
          datadog:
            version: 3.6.0
        depends_on:
          accounts:
            - czi-si
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
        module_source: terraform/modules/amundsen
      appflow-lp-flows:
        terraform_version: 1.0.11
        depends_on:
          accounts:
            - summitps
          components: []
      cloud-env:
        depends_on:
          accounts:
            - czi-si
          components:
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.143.0
      eks:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-logs
            - czi-si
          components:
            - cloud-env
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-cluster?ref=v0.100.0
      k8s-core:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/k8s-core?ref=k8s-core-v1.5.1
      k8s-monitoring:
        providers:
          datadog:
            version: 3.0.0
          pagerduty:
            version: 1.7.9
        depends_on:
          accounts: []
          components:
            - eks
        module_source: terraform/modules/datadog-k8s-cluster
      network:
        depends_on:
          accounts: []
          components:
            - cloud-env
      route53:
        depends_on:
          accounts: []
          components:
            - cloud-env
  lp-staging-central:
    extra_vars:
      eks_cluster_name: ie-lp-staging-central-eks
    project: ie
    providers:
      aws:
        account_id: "950587841421"
        region: us-east-1
    components:
      airflow:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - okta-czi-prod
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
        module_source: terraform/modules/eks-airflow
      cloud-env:
        depends_on:
          accounts:
            - czi-si
          components:
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.143.0
      debezium:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - summitps
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
        module_source: terraform/modules/eks-debezium
      eks:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-logs
            - czi-si
          components:
            - cloud-env
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-cluster?ref=v0.100.0
      k8s-core:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/k8s-core?ref=k8s-core-v1.5.1
      k8s-monitoring:
        providers:
          datadog:
            version: 3.0.0
          pagerduty:
            version: 1.7.9
        depends_on:
          accounts: []
          components:
            - eks
        module_source: terraform/modules/datadog-k8s-cluster
      network:
        depends_on:
          accounts: []
          components:
            - cloud-env
      route53:
        depends_on:
          accounts: []
          components: []
  lp-prod-central:
    extra_vars:
      eks_cluster_name: ie-lp-prod-central-eks
    project: ie
    providers:
      aws:
        account_id: "950587841421"
        region: us-east-1
    components:
      airflow:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - okta-czi-prod
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
        module_source: terraform/modules/eks-airflow
      cloud-env:
        depends_on:
          accounts:
            - czi-si
          components:
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.143.0
      debezium:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - summitps
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
        module_source: terraform/modules/eks-debezium
      eks:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-logs
            - czi-si
          components:
            - cloud-env
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-cluster?ref=v0.100.0
      k8s-core:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/k8s-core?ref=k8s-core-v1.5.1
      route53:
        depends_on:
          accounts: []
          components: []
      network:
        depends_on:
          accounts: []
          components:
            - cloud-env
  meta-prod:
    extra_vars:
      eks_cluster_name: ie-meta-prod-eks
    project: ie
    providers:
      aws:
        account_id: "607813682535"
        region: us-west-2
    depends_on:
      accounts: []
      components: []
    components:
      airflow:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - okta-czi-prod
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-airflow?ref=v0.80.0
      cloud-env:
        depends_on:
          accounts:
            - czi-si
          components:
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.143.0
      databricks-workspace:
        extra_vars:
          databricks_external_id: 4a2f419c-ae7a-49f1-b774-8f3113d9834d
        providers:
          databricks:
            version: 1.0.0
        depends_on:
          accounts:
            - czi-si
            - databricks-networks
          components:
            - route53
      eks:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-logs
            - czi-si
          components:
            - cloud-env
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-cluster?ref=v0.100.0
      k8s-core:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/k8s-core?ref=k8s-core-v1.5.1
      k8s-monitoring:
        providers:
          datadog:
            version: 3.0.0
          pagerduty:
            version: 1.7.9
        depends_on:
          accounts: []
          components:
            - eks
        module_source: terraform/modules/datadog-k8s-cluster
      network:
        depends_on:
          accounts:
            - databricks-networks
          components:
            - cloud-env
      route53:
        depends_on:
          accounts: []
          components: []
  meta-staging:
    extra_vars:
      eks_cluster_name: ie-meta-staging-eks
    project: ie
    providers:
      aws:
        account_id: "607813682535"
        region: us-west-2
    depends_on:
      accounts: []
      components: []
    components:
      airflow:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - okta-czi-prod
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-airflow?ref=v0.80.0
      cloud-env:
        depends_on:
          accounts:
            - czi-si
          components:
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.143.0
      eks:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-logs
            - czi-si
          components:
            - cloud-env
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-cluster?ref=v0.100.0
      k8s-core:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/k8s-core?ref=k8s-core-v1.5.1
      k8s-monitoring:
        providers:
          datadog:
            version: 3.0.0
          pagerduty:
            version: 1.7.9
        depends_on:
          accounts: []
          components:
            - eks
        module_source: terraform/modules/datadog-k8s-cluster
      network:
        depends_on:
          accounts: []
          components:
            - cloud-env
      route53:
        depends_on:
          accounts: []
          components: []
  playground:
    extra_vars:
      eks_cluster_name: si-playground-eks
    project: si
    providers:
      aws:
        account_id: "401986845158"
    components:
      eng-portal:
        depends_on:
          accounts: []
          components:
            - cloud-env
            - route53
            - happy
      cloud-env:
        depends_on:
          accounts:
            - czi-si
          components:
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.143.0
      databricks-workspace:
        extra_vars:
          databricks_external_id: 4a2f419c-ae7a-49f1-b774-8f3113d9834d
        providers:
          databricks:
            version: 1.0.0
        depends_on:
          accounts:
            - czi-si
            - databricks-networks
          components:
            - route53
      ecs:
        depends_on:
          accounts:
            - czi-playground
            - czi-si
          components:
            - cloud-env
      eks:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-logs
            - czi-si
          components:
            - cloud-env
        module_source: terraform/modules/eks-cluster
      eks-v2:
        providers:
          aws:
            version: 3.72.0
          kubernetes:
            enabled: true
            version: 2.11.0
          datadog:
            version: 3.0.0
        depends_on:
          accounts:
            - czi-logs
            - czi-si
          components:
            - cloud-env
            - route53
        module_source: terraform/modules/eks-cluster-v2
      happy-docker-image-builder:
        depends_on:
          accounts: []
          components: []
      happy-rdev:
        depends_on:
          accounts: []
          components:
            - cloud-env
            - route53
      happy-ep:
        depends_on:
          accounts: []
          components:
            - cloud-env
            - route53
      happy-ecs:
        depends_on:
          accounts:
            - czi-si
          components:
            - cloud-env
            - route53
      k8s-core:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
            - route53
        module_source: terraform/modules/k8s-core
      k8s-core-v2:
        providers:
          aws:
            version: 3.72.0
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - eks-v2
            - route53
        module_source: terraform/modules/k8s-core
      superset:
        terraform_version: 0.15.5
        providers:
          kubernetes:
            enabled: true
            version: 2.12.1
        depends_on:
          components:
            - eks-v2
            - k8s-core-v2
            - cloud-env
            - route53
        module_source: terraform/modules/superset
      k8s-monitoring:
        providers:
          aws:
            version: 3.72.0
          datadog:
            version: 3.0.0
          pagerduty:
            version: 1.7.9
        depends_on:
          accounts: []
          components:
            - eks
        module_source: terraform/modules/datadog-k8s-cluster
      k8s-monitoring-v2:
        providers:
          datadog:
            version: 3.0.0
          pagerduty:
            version: 1.7.9
        depends_on:
          accounts: []
          components:
            - eks-v2
        module_source: terraform/modules/datadog-k8s-cluster
      looker:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.4
        depends_on:
          accounts: []
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
        module_source: terraform/modules/looker
      looker-internal:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.4
        depends_on:
          accounts: []
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
        module_source: terraform/modules/looker
      myscript-proxy:
        providers:
          aws:
            region: us-east-1
        depends_on:
          accounts:
            - czi-si
          components:
            - route53
        module_source: terraform/modules/myscript-proxy
      route53:
        depends_on:
          accounts: []
          components: []
      rancher:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.4
        depends_on:
          accounts: []
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
        module_source: terraform/modules/rancher
  prod:
    extra_vars:
      eks_cluster_name: si-prod-eks
    project: si
    providers:
      assert:
        version: 0.0.1
      aws:
        account_id: "626314663667"
    depends_on:
      accounts: []
      components: []
    components:
      czi-ml-api:
        depends_on:
          components:
            - happy
            - cloud-env
      eng-portal:
        depends_on:
          accounts: []
          components:
            - cloud-env
            - route53
            - happy
      happy:
        depends_on:
          accounts: []
          components:
            - cloud-env
            - route53
            - czi-ml-api
      aws-config-generation:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-id
            - okta-czi-prod
          components:
            - cloud-env
            - credentials
            - eks
            - k8s-core
            - route53
        module_source: terraform/modules/eks-aws-config-generation
      aws_s3_alb_access_logs:
        depends_on:
          accounts:
            - czi-si
          components: []
        module_source: terraform/modules/aws-elb-access-logs-bucket
      certs:
        depends_on:
          accounts: []
          components:
            - route53
      cloud-env:
        depends_on:
          accounts:
            - czi-si
          components:
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.143.0
      credentials:
        depends_on:
          accounts: []
          components: []
      datadog-cloudwatch:
        providers:
          datadog:
            version: 3.0.0
        depends_on:
          accounts: []
          components: []
      ecs:
        depends_on:
          accounts:
            - czi-si
          components:
            - cloud-env
      eks:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-logs
            - czi-si
          components:
            - cloud-env
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-cluster?ref=v0.100.0
      golinks:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts: []
          components:
            - cloud-env
            - credentials
            - eks
            - golinksdb
            - k8s-core
            - route53
      golinksdb:
        depends_on:
          accounts: []
          components:
            - cloud-env
      guardduty-alerts:
        providers:
          aws:
            account_id: "724328632434"
            additional_regions:
              - us-east-1
              - us-east-2
              - us-west-1
              - us-west-2
        depends_on:
          accounts: []
          components: []
      k8s-core:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/k8s-core?ref=k8s-core-v1.5.1
      k8s-monitoring:
        providers:
          datadog:
            version: 3.0.0
          pagerduty:
            version: 1.7.9
        depends_on:
          accounts: []
          components:
            - eks
        module_source: terraform/modules/datadog-k8s-cluster
      kolide-fleet:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts: []
          components:
            - kolide-fleet-state
            - ecs
            - cloud-env
            - route53
      kolide-fleet-state:
        providers:
          aws:
            version: 3.49.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - cloud-env
      mergebot:
        depends_on:
          accounts: []
          components:
            - cloud-env
            - ecs
      reaper:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts: []
          components:
            - credentials
            - eks
            - k8s-core
      rotator:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts: []
          components:
            - credentials
            - eks
            - k8s-core
      route53:
        depends_on:
          accounts:
            - czi-si
          components: []
      sentry:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
            - ses
      ses:
        depends_on:
          accounts: []
          components:
            - route53
      shared-ecr:
        depends_on:
          accounts:
            - czi-si
          components: []
      snowalert:
        project: si
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts: []
          components:
            - certs
            - cloud-env
            - ecs
            - eks
            - k8s-core
            - route53
      test-email-accounts:
        depends_on:
          accounts:
            - czi-si
          components: []
  protocolsio:
    project: ie
    providers:
      aws:
        account_id: "248448116955"
    components:
      cloud-env:
        depends_on:
          accounts:
            - czi-si
          components: []
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.118.0
  sci-imaging-prod:
    extra_vars:
      eks_cluster_name: ie-sci-imaging-prod
    project: ie
    providers:
      aws:
        account_id: "516466186502"
    components:
      databricks-workspace:
        providers:
          databricks:
            version: 1.0.0
        extra_vars:
          databricks_external_id: 4a2f419c-ae7a-49f1-b774-8f3113d9834d
        depends_on:
          accounts:
            - czi-si
            - databricks-networks
          components:
            - route53
      route53:
        depends_on:
          accounts:
            - czi-si
          components: []
      cloud-env:
        depends_on:
          accounts:
            - czi-si
          components:
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.118.0
      eks:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-logs
            - czi-si
          components:
            - cloud-env
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-cluster?ref=v0.100.0
      k8s-core:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/k8s-core?ref=k8s-core-v1.5.1
      superset:
        terraform_version: 0.15.5
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
            - k8s-core
            - cloud-env
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/superset?ref=v0.135.0
  single-cell-prod:
    extra_vars:
      eks_cluster_name: ie-single-cell-prod
    project: ie
    providers:
      aws:
        account_id: "231426846575"
    components:
      annotation:
        depends_on:
          components:
            - databricks-workspace
      databricks-workspace:
        providers:
          databricks:
            version: 1.0.0
        extra_vars:
          databricks_external_id: 4a2f419c-ae7a-49f1-b774-8f3113d9834d
        depends_on:
          accounts:
            - czi-si
            - databricks-networks
          components:
            - route53
      route53:
        depends_on:
          accounts:
            - czi-si
          components: []
      cloud-env:
        depends_on:
          accounts:
            - czi-si
          components:
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.118.0
      eks:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-logs
            - czi-si
          components:
            - cloud-env
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-cluster?ref=v0.100.0
      k8s-core:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/k8s-core?ref=k8s-core-v1.5.1
      superset:
        terraform_version: 0.15.5
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
            - k8s-core
            - cloud-env
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/superset?ref=v0.135.0
  staging:
    extra_vars:
      eks_cluster_name: si-staging-eks
    project: si
    providers:
      assert:
        version: 0.0.1
      aws:
        account_id: "626314663667"
    depends_on:
      accounts: []
      components: []
    components:
      czi-ml-api:
        depends_on:
          components:
            - happy
            - cloud-env
      eng-portal:
        depends_on:
          accounts: []
          components:
            - cloud-env
            - route53
            - happy
      happy:
        depends_on:
          accounts: []
          components:
            - cloud-env
            - route53
            - czi-ml-api
      aws-config-generation:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-id
            - okta-czi-prod
          components:
            - cloud-env
            - credentials
            - eks
            - k8s-core
            - route53
        module_source: terraform/modules/eks-aws-config-generation
      certs:
        depends_on:
          accounts: []
          components:
            - route53
      cloud-custodian:
        depends_on:
          accounts:
            - czi-id
          components:
            - ecs
            - ses
            - cloud-env
      cloud-env:
        depends_on:
          accounts:
            - czi-si
          components:
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/aws-env?ref=v0.143.0
      credentials:
        depends_on:
          accounts: []
          components: []
      ecs:
        depends_on:
          accounts:
            - czi-si
          components:
            - cloud-env
      eks:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-logs
            - czi-si
          components:
            - cloud-env
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/eks-cluster?ref=eks-cluster-v2.0.0
      golinks:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts: []
          components:
            - cloud-env
            - credentials
            - ecs
            - golinksdb
            - route53
      golinksdb:
        depends_on:
          accounts: []
          components:
            - cloud-env
      guardduty-alerts:
        providers:
          aws:
            account_id: "724328632434"
            additional_regions:
              - us-east-1
              - us-east-2
              - us-west-1
              - us-west-2
        depends_on:
          accounts: []
          components: []
      k8s-core:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - eks
            - route53
        module_source: git@github.com:chanzuckerberg/shared-infra//terraform/modules/k8s-core?ref=k8s-core-v1.5.1
      k8s-monitoring:
        providers:
          datadog:
            version: 3.0.0
          pagerduty:
            version: 1.7.9
        depends_on:
          accounts: []
          components:
            - eks
        module_source: terraform/modules/datadog-k8s-cluster
      kolide-fleet:
        providers:
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts: []
          components:
            - kolide-fleet-state
            - ecs
            - cloud-env
            - route53
            - eks
            - k8s-core
      kolide-fleet-state:
        providers:
          aws:
            version: 3.49.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - cloud-env
            - eks
            - k8s-core
      public-static-site:
        providers:
          aws:
            additional_regions:
              - us-east-1
        depends_on:
          accounts:
            - czi-si
          components: []
      route53:
        depends_on:
          accounts:
            - czi-si
          components: []
      sentry9:
        providers:
          datadog:
            version: 3.0.0
          kubernetes:
            enabled: true
            version: 1.13.2
        depends_on:
          accounts:
            - czi-si
          components:
            - cloud-env
            - eks
            - k8s-core
            - route53
            - ses
      ses:
        depends_on:
          accounts: []
          components:
            - route53
global:
  providers:
    aws:
      account_id: "626314663667"
      role: tfe-si
modules:
  alb-access-logs-datadog-lambda: {}
  alb-http: {}
  amundsen: {}
  aws-account-baseline: {}
  aws-account-baseline-regional: {}
  aws-account-complete: {}
  aws-batch-env: {}
  aws-batch-env-swipe: {}
  aws-ami-permissions: {}
  aws-ci-user-crossacct: {}
  aws-cloudtrail-sink: {}
  aws-cloudwatch-datadog: {}
  aws-cloudwatch-datadog-lambda: {}
  aws-config-aggregator: {}
  aws-config-organization-rules: {}
  aws-config-recorder: {}
  aws-datadog-exporter-role: {}
  aws-dynamodb-terraform-locktable: {}
  aws-elasticache-redis: {}
  aws-elasticache-redis-cluster: {}
  aws-elasticsearch: {}
  aws-elb-access-logs-bucket: {}
  aws-env: {}
  aws-guardduty-master: {}
  aws-guardduty-slack-notifier: {}
  aws-guardduty-slack-notifier-global: {}
  aws-iam-eks-pod-role: {}
  aws-iam-eks-service-account-role: {}
  aws-iam-policy-assume-role: {}
  aws-iam-policy-document-orgwide-secrets: {}
  aws-iam-policy-dynamodb-rw: {}
  aws-iam-policy-ecr-reader: {}
  aws-iam-policy-ecr-writer: {}
  aws-iam-policy-mwaa-updater: {}
  aws-iam-policy-orgwide-secrets: {}
  aws-iam-policy-s3-reader: {}
  aws-iam-policy-s3-writer: {}
  aws-iam-role-github-action: {}
  aws-iam-ses-user: {}
  aws-iam-user: {}
  aws-idp-oidc-okta-czi-duo: {}
  aws-idp-oidc-okta-czi-prod: {}
  aws-idp-okta-czi-duo: {}
  aws-idp-saml-okta-czi-prod: {}
  aws-instance: {}
  aws-kafka: {}
  aws-kinesis-stream: {}
  aws-mwaa: {}
  aws-rds-postgres: {}
  aws-rds-mariadb: {}
  aws-scp: {}
  aws-secretsmanager-orgwide-secret: {}
  aws-ses: {}
  aws-sqs-queue: {}
  aws-ssm-params: {}
  aws-static-site-private: {}
  bastion: {}
  bless-ca: {}
  cloud-custodian: {}
  cloudwatch-destination-s3-archiver: {}
  cloudwatch-logs-sink: {}
  databricks-workspace: {}
  databricks-workspace-e2: {}
  datadog-aws-integration: {}
  datadog-aws-rds-integration: {}
  datadog-integration-role: {}
  datadog-k8s-cluster: {}
  datadog-rum-proxy: {}
  ecr-repository: {}
  ecs-cluster: {}
  ecs-fleet: {}
  ecs-monitoring: {}
  ecs-multi-domain-oauth-proxy: {}
  ecs-multi-domain-oauth-proxy-fargate: {}
  ecs-scheduled-task: {}
  ecs-scheduled-task-fargate: {}
  ecs-service-oauth-internal: {}
  ecs-service-oauth-internal-fargate: {}
  ecs-service-with-alb: {}
  eks-airflow: {}
  eks-aws-config-generation: {}
  eks-cluster: {}
  eks-debezium: {}
  eks-jupyterhub: {}
  eks-multi-domain-oauth-proxy: {}
  eks-persistent-volume-claim: {}
  eks-private-docker-registry: {}
  eks-service: {}
  eks-statefulset-service-with-alb: {}
  eks-storage-class: {}
  eng-portal: {}
  fivetran_s3_role: {}
  github-actions-release: {}
  golinks: {}
  golinks-eks: {}
  happy-env-ecs: {}
  helm-service-kyverno: {}
  heroku-app: {}
  heroku-cloudwatch-log-drain: {}
  instance-cloud-init-script: {}
  jira-eks: {}
  k8s-core: {}
  k8s-prometheus-monitor: {}
  kolide-fleet: {}
  kolide-fleet-state: {}
  kubernetes-aws-ssm: {}
  kubernetes-secret-from-aws-param: {}
  looker: {}
  machine-images: {}
  monitored_service: {}
  myscript-proxy: {}
  network-config: {}
  oauth2-proxy-eks: {}
  oauth2-proxy-fargate: {}
  oauth2-proxy-helm-eks: {}
  oauth2_proxy: {}
  okta-account-baseline: {}
  okta-app-oauth: {}
  okta-app-oauth-head: {}
  okta-auth-server: {}
  okta-auth-server-rbac: {}
  okta-aws-oidc-app: {}
  okta-aws-saml-group: {}
  okta-group: {}
  okta-group-ssh-authorized-principal: {}
  okta-team: {}
  packer-instance-profile: {}
  pager-duty-service: {}
  secretsmanager-secret: {}
  segment-javascript-proxies: {}
  sentry-eks: {}
  slack-ekm: {}
  snowalert-ecs: {}
  snowalert-eks: {}
  tfe-agents-eks: {}
  snowflake-stage-s3-role: {}
  fogg-components-required-check: {}
  ssh-ca-keys: {}
  ssh-ca-lambda: {}
  ssrfs-up: {}
  sastisfaction: {}
  superset: {}
  tfe-management: {}
  wiki-eks: {}
plugins:
  custom_plugins:
    tflint:
      url: https://github.com/terraform-linters/tflint/releases/download/v0.34.1/tflint_{{.OS}}_{{.Arch}}.zip
      format: zip
version: 2
